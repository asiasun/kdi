//---------------------------------------------------------- -*- Mode: C++ -*-
// Copyright (C) 2009 Josh Taylor (Kosmix Corporation)
// Created 2009-03-29
//
// This file is part of the warp library.
//
// The warp library is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by the
// Free Software Foundation; either version 2 of the License, or any later
// version.
//
// The warp library is distributed in the hope that it will be useful, but
// WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General
// Public License for more details.
//
// You should have received a copy of the GNU General Public License along
// with this program; if not, write to the Free Software Foundation, Inc.,
// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
//----------------------------------------------------------------------------

#include <warp/gzip.h>
#include <warp/vstring.h>
#include <warp/string_range.h>
#include <unittest/main.h>
#include <iterator>

using namespace warp;

namespace
{
    // Empty string test
    char const empty[0] = {
    };
    char const empty_z1[8] = {
        0x78,0x01,0x03,0x00,0x00,0x00,0x00,0x01,           //   0:"x......."
    };
    char const empty_z9[8] = {
        0x78,0xda,0x03,0x00,0x00,0x00,0x00,0x01,           //   0:"x......."
    };
    char const empty_gz1[20] = {
        0x1f,0x8b,0x08,0x00,0x19,0x54,0xd0,0x49,0x02,0xff, //   0:".....T.I.."
        0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //  10:".........."
    };
    char const empty_gz9[20] = {
        0x1f,0x8b,0x08,0x00,0x19,0x54,0xd0,0x49,0x02,0xff, //   0:".....T.I.."
        0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, //  10:".........."
    };

    // Short string test
    char const hello[12] = {
        0x48,0x65,0x6c,0x6c,0x6f,0x20,0x77,0x6f,0x72,0x6c, //   0:"Hello worl"
        0x64,0x21,                                         //  10:"d!"
    };
    char const hello_z1[20] = {
        0x78,0x01,0xf3,0x48,0xcd,0xc9,0xc9,0x57,0x28,0xcf, //   0:"x..H...W(."
        0x2f,0xca,0x49,0x51,0x04,0x00,0x1d,0x09,0x04,0x5e, //  10:"/.IQ.....^"
    };
    char const hello_z9[20] = {
        0x78,0xda,0xf3,0x48,0xcd,0xc9,0xc9,0x57,0x28,0xcf, //   0:"x..H...W(."
        0x2f,0xca,0x49,0x51,0x04,0x00,0x1d,0x09,0x04,0x5e, //  10:"/.IQ.....^"
    };
    char const hello_gz1[32] = {
        0x1f,0x8b,0x08,0x00,0xfd,0x53,0xd0,0x49,0x02,0xff, //   0:".....S.I.."
        0xf3,0x48,0xcd,0xc9,0xc9,0x57,0x28,0xcf,0x2f,0xca, //  10:".H...W(./."
        0x49,0x51,0x04,0x00,0x95,0x19,0x85,0x1b,0x0c,0x00, //  20:"IQ........"
        0x00,0x00,                                         //  30:".."
    };
    char const hello_gz9[32] = {
        0x1f,0x8b,0x08,0x00,0xfd,0x53,0xd0,0x49,0x02,0xff, //   0:".....S.I.."
        0xf3,0x48,0xcd,0xc9,0xc9,0x57,0x28,0xcf,0x2f,0xca, //  10:".H...W(./."
        0x49,0x51,0x04,0x00,0x95,0x19,0x85,0x1b,0x0c,0x00, //  20:"IQ........"
        0x00,0x00,                                         //  30:".."
    };

    // Middlin' long string test
    char const jabber[1058] = {
        0x4a,0x41,0x42,0x42,0x45,0x52,0x57,0x4f,0x43,0x4b, //   0:"JABBERWOCK"
        0x59,0x0a,0x4c,0x65,0x77,0x69,0x73,0x20,0x43,0x61, //  10:"Y.Lewis Ca"
        0x72,0x72,0x6f,0x6c,0x6c,0x0a,0x28,0x66,0x72,0x6f, //  20:"rroll.(fro"
        0x6d,0x20,0x54,0x68,0x72,0x6f,0x75,0x67,0x68,0x20, //  30:"m Through "
        0x74,0x68,0x65,0x20,0x4c,0x6f,0x6f,0x6b,0x69,0x6e, //  40:"the Lookin"
        0x67,0x2d,0x47,0x6c,0x61,0x73,0x73,0x20,0x61,0x6e, //  50:"g-Glass an"
        0x64,0x20,0x57,0x68,0x61,0x74,0x20,0x41,0x6c,0x69, //  60:"d What Ali"
        0x63,0x65,0x20,0x46,0x6f,0x75,0x6e,0x64,0x20,0x54, //  70:"ce Found T"
        0x68,0x65,0x72,0x65,0x2c,0x20,0x31,0x38,0x37,0x32, //  80:"here, 1872"
        0x29,0x0a,0x0a,0x60,0x54,0x77,0x61,0x73,0x20,0x62, //  90:")..`Twas b"
        0x72,0x69,0x6c,0x6c,0x69,0x67,0x2c,0x20,0x61,0x6e, // 100:"rillig, an"
        0x64,0x20,0x74,0x68,0x65,0x20,0x73,0x6c,0x69,0x74, // 110:"d the slit"
        0x68,0x79,0x20,0x74,0x6f,0x76,0x65,0x73,0x0a,0x20, // 120:"hy toves. "
        0x20,0x44,0x69,0x64,0x20,0x67,0x79,0x72,0x65,0x20, // 130:" Did gyre "
        0x61,0x6e,0x64,0x20,0x67,0x69,0x6d,0x62,0x6c,0x65, // 140:"and gimble"
        0x20,0x69,0x6e,0x20,0x74,0x68,0x65,0x20,0x77,0x61, // 150:" in the wa"
        0x62,0x65,0x3a,0x0a,0x41,0x6c,0x6c,0x20,0x6d,0x69, // 160:"be:.All mi"
        0x6d,0x73,0x79,0x20,0x77,0x65,0x72,0x65,0x20,0x74, // 170:"msy were t"
        0x68,0x65,0x20,0x62,0x6f,0x72,0x6f,0x67,0x6f,0x76, // 180:"he borogov"
        0x65,0x73,0x2c,0x0a,0x20,0x20,0x41,0x6e,0x64,0x20, // 190:"es,.  And "
        0x74,0x68,0x65,0x20,0x6d,0x6f,0x6d,0x65,0x20,0x72, // 200:"the mome r"
        0x61,0x74,0x68,0x73,0x20,0x6f,0x75,0x74,0x67,0x72, // 210:"aths outgr"
        0x61,0x62,0x65,0x2e,0x0a,0x0a,0x22,0x42,0x65,0x77, // 220:"abe..."Bew"
        0x61,0x72,0x65,0x20,0x74,0x68,0x65,0x20,0x4a,0x61, // 230:"are the Ja"
        0x62,0x62,0x65,0x72,0x77,0x6f,0x63,0x6b,0x2c,0x20, // 240:"bberwock, "
        0x6d,0x79,0x20,0x73,0x6f,0x6e,0x21,0x0a,0x20,0x20, // 250:"my son!.  "
        0x54,0x68,0x65,0x20,0x6a,0x61,0x77,0x73,0x20,0x74, // 260:"The jaws t"
        0x68,0x61,0x74,0x20,0x62,0x69,0x74,0x65,0x2c,0x20, // 270:"hat bite, "
        0x74,0x68,0x65,0x20,0x63,0x6c,0x61,0x77,0x73,0x20, // 280:"the claws "
        0x74,0x68,0x61,0x74,0x20,0x63,0x61,0x74,0x63,0x68, // 290:"that catch"
        0x21,0x0a,0x42,0x65,0x77,0x61,0x72,0x65,0x20,0x74, // 300:"!.Beware t"
        0x68,0x65,0x20,0x4a,0x75,0x62,0x6a,0x75,0x62,0x20, // 310:"he Jubjub "
        0x62,0x69,0x72,0x64,0x2c,0x20,0x61,0x6e,0x64,0x20, // 320:"bird, and "
        0x73,0x68,0x75,0x6e,0x0a,0x20,0x20,0x54,0x68,0x65, // 330:"shun.  The"
        0x20,0x66,0x72,0x75,0x6d,0x69,0x6f,0x75,0x73,0x20, // 340:" frumious "
        0x42,0x61,0x6e,0x64,0x65,0x72,0x73,0x6e,0x61,0x74, // 350:"Bandersnat"
        0x63,0x68,0x21,0x22,0x0a,0x0a,0x48,0x65,0x20,0x74, // 360:"ch!"..He t"
        0x6f,0x6f,0x6b,0x20,0x68,0x69,0x73,0x20,0x76,0x6f, // 370:"ook his vo"
        0x72,0x70,0x61,0x6c,0x20,0x73,0x77,0x6f,0x72,0x64, // 380:"rpal sword"
        0x20,0x69,0x6e,0x20,0x68,0x61,0x6e,0x64,0x3a,0x0a, // 390:" in hand:."
        0x20,0x20,0x4c,0x6f,0x6e,0x67,0x20,0x74,0x69,0x6d, // 400:"  Long tim"
        0x65,0x20,0x74,0x68,0x65,0x20,0x6d,0x61,0x6e,0x78, // 410:"e the manx"
        0x6f,0x6d,0x65,0x20,0x66,0x6f,0x65,0x20,0x68,0x65, // 420:"ome foe he"
        0x20,0x73,0x6f,0x75,0x67,0x68,0x74,0x20,0x2d,0x2d, // 430:" sought --"
        0x0a,0x53,0x6f,0x20,0x72,0x65,0x73,0x74,0x65,0x64, // 440:".So rested"
        0x20,0x68,0x65,0x20,0x62,0x79,0x20,0x74,0x68,0x65, // 450:" he by the"
        0x20,0x54,0x75,0x6d,0x74,0x75,0x6d,0x20,0x74,0x72, // 460:" Tumtum tr"
        0x65,0x65,0x2c,0x0a,0x20,0x20,0x41,0x6e,0x64,0x20, // 470:"ee,.  And "
        0x73,0x74,0x6f,0x6f,0x64,0x20,0x61,0x77,0x68,0x69, // 480:"stood awhi"
        0x6c,0x65,0x20,0x69,0x6e,0x20,0x74,0x68,0x6f,0x75, // 490:"le in thou"
        0x67,0x68,0x74,0x2e,0x0a,0x0a,0x41,0x6e,0x64,0x2c, // 500:"ght...And,"
        0x20,0x61,0x73,0x20,0x69,0x6e,0x20,0x75,0x66,0x66, // 510:" as in uff"
        0x69,0x73,0x68,0x20,0x74,0x68,0x6f,0x75,0x67,0x68, // 520:"ish though"
        0x74,0x20,0x68,0x65,0x20,0x73,0x74,0x6f,0x6f,0x64, // 530:"t he stood"
        0x2c,0x0a,0x20,0x20,0x54,0x68,0x65,0x20,0x4a,0x61, // 540:",.  The Ja"
        0x62,0x62,0x65,0x72,0x77,0x6f,0x63,0x6b,0x2c,0x20, // 550:"bberwock, "
        0x77,0x69,0x74,0x68,0x20,0x65,0x79,0x65,0x73,0x20, // 560:"with eyes "
        0x6f,0x66,0x20,0x66,0x6c,0x61,0x6d,0x65,0x2c,0x0a, // 570:"of flame,."
        0x43,0x61,0x6d,0x65,0x20,0x77,0x68,0x69,0x66,0x66, // 580:"Came whiff"
        0x6c,0x69,0x6e,0x67,0x20,0x74,0x68,0x72,0x6f,0x75, // 590:"ling throu"
        0x67,0x68,0x20,0x74,0x68,0x65,0x20,0x74,0x75,0x6c, // 600:"gh the tul"
        0x67,0x65,0x79,0x20,0x77,0x6f,0x6f,0x64,0x2c,0x0a, // 610:"gey wood,."
        0x20,0x20,0x41,0x6e,0x64,0x20,0x62,0x75,0x72,0x62, // 620:"  And burb"
        0x6c,0x65,0x64,0x20,0x61,0x73,0x20,0x69,0x74,0x20, // 630:"led as it "
        0x63,0x61,0x6d,0x65,0x21,0x0a,0x0a,0x4f,0x6e,0x65, // 640:"came!..One"
        0x2c,0x20,0x74,0x77,0x6f,0x21,0x20,0x4f,0x6e,0x65, // 650:", two! One"
        0x2c,0x20,0x74,0x77,0x6f,0x21,0x20,0x41,0x6e,0x64, // 660:", two! And"
        0x20,0x74,0x68,0x72,0x6f,0x75,0x67,0x68,0x20,0x61, // 670:" through a"
        0x6e,0x64,0x20,0x74,0x68,0x72,0x6f,0x75,0x67,0x68, // 680:"nd through"
        0x0a,0x20,0x20,0x54,0x68,0x65,0x20,0x76,0x6f,0x72, // 690:".  The vor"
        0x70,0x61,0x6c,0x20,0x62,0x6c,0x61,0x64,0x65,0x20, // 700:"pal blade "
        0x77,0x65,0x6e,0x74,0x20,0x73,0x6e,0x69,0x63,0x6b, // 710:"went snick"
        0x65,0x72,0x2d,0x73,0x6e,0x61,0x63,0x6b,0x21,0x0a, // 720:"er-snack!."
        0x48,0x65,0x20,0x6c,0x65,0x66,0x74,0x20,0x69,0x74, // 730:"He left it"
        0x20,0x64,0x65,0x61,0x64,0x2c,0x20,0x61,0x6e,0x64, // 740:" dead, and"
        0x20,0x77,0x69,0x74,0x68,0x20,0x69,0x74,0x73,0x20, // 750:" with its "
        0x68,0x65,0x61,0x64,0x0a,0x20,0x20,0x48,0x65,0x20, // 760:"head.  He "
        0x77,0x65,0x6e,0x74,0x20,0x67,0x61,0x6c,0x75,0x6d, // 770:"went galum"
        0x70,0x68,0x69,0x6e,0x67,0x20,0x62,0x61,0x63,0x6b, // 780:"phing back"
        0x2e,0x0a,0x0a,0x22,0x41,0x6e,0x64,0x2c,0x20,0x68, // 790:"..."And, h"
        0x61,0x73,0x20,0x74,0x68,0x6f,0x75,0x20,0x73,0x6c, // 800:"as thou sl"
        0x61,0x69,0x6e,0x20,0x74,0x68,0x65,0x20,0x4a,0x61, // 810:"ain the Ja"
        0x62,0x62,0x65,0x72,0x77,0x6f,0x63,0x6b,0x3f,0x0a, // 820:"bberwock?."
        0x20,0x20,0x43,0x6f,0x6d,0x65,0x20,0x74,0x6f,0x20, // 830:"  Come to "
        0x6d,0x79,0x20,0x61,0x72,0x6d,0x73,0x2c,0x20,0x6d, // 840:"my arms, m"
        0x79,0x20,0x62,0x65,0x61,0x6d,0x69,0x73,0x68,0x20, // 850:"y beamish "
        0x62,0x6f,0x79,0x21,0x0a,0x4f,0x20,0x66,0x72,0x61, // 860:"boy!.O fra"
        0x62,0x6a,0x6f,0x75,0x73,0x20,0x64,0x61,0x79,0x21, // 870:"bjous day!"
        0x20,0x43,0x61,0x6c,0x6c,0x6f,0x6f,0x68,0x21,0x20, // 880:" Callooh! "
        0x43,0x61,0x6c,0x6c,0x61,0x79,0x21,0x27,0x0a,0x20, // 890:"Callay!'. "
        0x20,0x48,0x65,0x20,0x63,0x68,0x6f,0x72,0x74,0x6c, // 900:" He chortl"
        0x65,0x64,0x20,0x69,0x6e,0x20,0x68,0x69,0x73,0x20, // 910:"ed in his "
        0x6a,0x6f,0x79,0x2e,0x0a,0x0a,0x60,0x54,0x77,0x61, // 920:"joy...`Twa"
        0x73,0x20,0x62,0x72,0x69,0x6c,0x6c,0x69,0x67,0x2c, // 930:"s brillig,"
        0x20,0x61,0x6e,0x64,0x20,0x74,0x68,0x65,0x20,0x73, // 940:" and the s"
        0x6c,0x69,0x74,0x68,0x79,0x20,0x74,0x6f,0x76,0x65, // 950:"lithy tove"
        0x73,0x0a,0x20,0x20,0x44,0x69,0x64,0x20,0x67,0x79, // 960:"s.  Did gy"
        0x72,0x65,0x20,0x61,0x6e,0x64,0x20,0x67,0x69,0x6d, // 970:"re and gim"
        0x62,0x6c,0x65,0x20,0x69,0x6e,0x20,0x74,0x68,0x65, // 980:"ble in the"
        0x20,0x77,0x61,0x62,0x65,0x3b,0x0a,0x41,0x6c,0x6c, // 990:" wabe;.All"
        0x20,0x6d,0x69,0x6d,0x73,0x79,0x20,0x77,0x65,0x72, //1000:" mimsy wer"
        0x65,0x20,0x74,0x68,0x65,0x20,0x62,0x6f,0x72,0x6f, //1010:"e the boro"
        0x67,0x6f,0x76,0x65,0x73,0x2c,0x0a,0x20,0x20,0x41, //1020:"goves,.  A"
        0x6e,0x64,0x20,0x74,0x68,0x65,0x20,0x6d,0x6f,0x6d, //1030:"nd the mom"
        0x65,0x20,0x72,0x61,0x74,0x68,0x73,0x20,0x6f,0x75, //1040:"e raths ou"
        0x74,0x67,0x72,0x61,0x62,0x65,0x2e,0x0a,           //1050:"tgrabe.."
    };
    char const jabber_z1[559] = {
        0x78,0x01,0xad,0x93,0xcd,0x8f,0xd3,0x30,0x10,0xc5, //   0:"x......0.."
        0xef,0xfe,0x2b,0xa6,0x7b,0x01,0xa4,0x16,0x09,0x2e, //  10:"..+.{....."
        0x20,0x38,0xa0,0xb6,0x7c,0x69,0x59,0x69,0x25,0xa8, //  20:" 8..|iYi%."
        0xb4,0xe2,0x86,0x9d,0x38,0xb1,0x5b,0x3b,0xb3,0xf2, //  30:"....8.[;.."
        0xc7,0x86,0xfc,0xf7,0xbc,0x49,0x53,0x76,0xef,0x70, //  40:".....ISv.p"
        0x69,0x23,0xc7,0xf3,0xe6,0xcd,0x6f,0x5e,0xae,0xb7, //  50:"i#....o^.."
        0xbb,0xdd,0xa7,0xef,0x77,0xb7,0xfb,0x6f,0x3f,0xd5, //  60:"....w..o?."
        0x8d,0x1d,0x7d,0xa6,0xbd,0x4e,0x89,0x43,0x50,0xcf, //  70:"..}..N.CP."
        0xbb,0xc4,0x91,0x0e,0x2e,0x71,0xed,0x1d,0x15,0x67, //  80:".....q...g"
        0xe9,0x86,0xf9,0xe4,0x87,0x7e,0xf3,0x25,0xe8,0x9c, //  90:".....~.%.."
        0x49,0x0f,0x2d,0xdd,0x39,0x5d,0x68,0x1b,0x7c,0x63, // 100:"I.-.9]h.|c"
        0xe9,0x33,0x57,0x1c,0x1c,0x9c,0x4d,0x76,0x4d,0xaf, // 110:".3W...MvM."
        0xde,0xbe,0x79,0xfd,0x42,0xa9,0x5f,0x87,0x51,0x67, // 120:"..y.B._.Qg"
        0x32,0xc9,0x87,0xe0,0xfb,0xf5,0x5c,0x21,0x3a,0x39, // 130:"2.....\!:9"
        0xf8,0xe2,0x26,0x2a,0xfc,0x60,0xb3,0x22,0xfa,0xe8, // 140:"..&*.`.".."
        0x5b,0xea,0xa7,0x64,0xe7,0xf7,0xbd,0x8f,0x26,0x58, // 150:"[..d....&X"
        0xf2,0xc3,0xdc,0x71,0xd4,0xc6,0xbe,0x53,0xdb,0x10, // 160:"...q...S.."
        0x28,0xfa,0x98,0x27,0x1a,0xa1,0x3e,0xbf,0x30,0x9c, // 170:"(..'..>.0."
        0xb8,0x97,0xfa,0x35,0x04,0xb6,0x68,0x2c,0xba,0x91, // 180:"...5..h,.."
        0xa3,0xa5,0xa4,0x8b,0xcb,0xc4,0xb5,0xf4,0x09,0xc5, // 190:".........."
        0x2f,0x95,0xba,0xda,0xd9,0x51,0x2f,0x65,0xd7,0xda, // 200:"/....Q/e.."
        0x18,0x9b,0x46,0x6e,0x4e,0x6b,0x8a,0x13,0x65,0x1e, // 210:"..FnNk..e."
        0x56,0xa8,0x87,0x69,0x3a,0xea,0x31,0x43,0x04,0xe3, // 220:"V..i:.1C.."
        0x18,0x5f,0x30,0x81,0xe8,0x35,0xe1,0xef,0x61,0xa3, // 230:"._0..5..a."
        0x4b,0xe3,0x56,0xea,0xa9,0x54,0x35,0xc7,0x6a,0x70, // 240:"K.V..T5.jp"
        0x3b,0xb5,0xe7,0xc9,0xb2,0xab,0xc3,0x22,0xd6,0xa5, // 250:";......".."
        0x1a,0x3d,0xd7,0x4c,0x3b,0x40,0xb2,0x29,0x0f,0x73, // 260:".=.L;@.).s"
        0xf5,0x95,0x52,0x5f,0xe1,0x1e,0x10,0xc9,0x81,0xf3, // 270:"..R_......"
        0x03,0xa7,0x7b,0x1d,0x28,0x8f,0x9c,0x5a,0x99,0xd7, // 280:"..{.(..Z.."
        0xe1,0xee,0x3b,0x08,0xdc,0xf0,0xd0,0x53,0xf1,0x18, // 290:"..;....S.."
        0x65,0x9e,0x49,0x0f,0xbf,0x65,0xac,0x8e,0x2d,0xc1, // 300:"e.I..e..-."
        0x52,0x96,0x65,0x14,0xda,0x6c,0xd4,0x0f,0xa6,0x64, // 310:"R.e..l...d"
        0x73,0xb1,0xad,0x1c,0x1b,0xd0,0xc4,0xdf,0xa1,0xc6, // 320:"s........."
        0x52,0x23,0x95,0x64,0xed,0x85,0x4b,0x46,0xbf,0x96, // 330:"R#.d..KF.."
        0xf4,0xe8,0xfc,0x85,0xea,0xac,0x00,0x2e,0xa0,0x06, // 340:".........."
        0xe3,0x59,0x5a,0xd7,0xae,0xf3,0x59,0x76,0x7c,0x56, // 350:".YZ...Yv|V"
        0x97,0x3e,0x52,0x26,0x1a,0xc2,0xe6,0x29,0xb5,0x11, // 360:".>R&...).."
        0xab,0x23,0x3b,0x59,0x20,0xee,0xa8,0x0b,0x3a,0xa2, // 370:".#;Y ...:."
        0xd3,0x1e,0xbf,0x84,0x0e,0x5d,0x17,0x10,0x0f,0xc8, // 380:".....]...."
        0x3c,0x46,0xa6,0xd4,0xd0,0x5b,0xec,0x6d,0x51,0x93, // 390:"<F...[.mQ."
        0x4d,0x99,0x9a,0xb0,0x61,0x78,0x42,0xeb,0x42,0x0d, // 400:"M...axB.B."
        0x6a,0x57,0x4a,0xdd,0x0e,0xc2,0x7c,0xe4,0x15,0x3d, // 410:"jWJ...|..="
        0x3e,0xc9,0xe5,0x8b,0x16,0xd8,0x5c,0x9e,0x17,0x53, // 420:">.....\..S"
        0x0b,0x3e,0x13,0x74,0x8b,0xe6,0x76,0x28,0x94,0x07, // 430:".>.t..v(.."
        0xdf,0x9c,0x6c,0xda,0x00,0x77,0x73,0x5a,0x09,0xeb, // 440:"..l..wsZ.."
        0x60,0xbb,0x22,0x4d,0x5a,0xab,0x97,0x25,0xcd,0xf6, // 450:"`."MZ..%.."
        0x7d,0xc9,0x80,0xa6,0x5b,0x28,0xe1,0xd2,0x5c,0xdb, // 460:"}...[(..\."
        0xeb,0x50,0xe3,0xbd,0x13,0xfb,0x06,0xd5,0x12,0x9b, // 470:".P........"
        0x99,0x8f,0x83,0x4b,0xc1,0x82,0xcc,0xea,0x25,0x93, // 480:"...K....%."
        0x8f,0x34,0x3e,0x40,0x60,0x2f,0xcb,0x29,0x2c,0x69, // 490:".4>@`/.),i"
        0xd2,0x29,0xe6,0x39,0x56,0xc6,0xea,0x28,0x3c,0x0d, // 500:".).9V..(<."
        0x4f,0x2b,0x75,0x4b,0x1d,0x82,0x78,0x94,0x34,0xb4, // 510:"O+uK..x.4."
        0x7a,0x5a,0xe1,0xf3,0x0a,0x81,0xd9,0x9d,0x1f,0x70, // 520:"zZ.......p"
        0xf0,0xec,0xec,0xa2,0x71,0x9c,0x8a,0x60,0x91,0x24, // 530:"....q..`.$"
        0x20,0x1d,0x47,0x9e,0x60,0xe2,0xbf,0x7c,0x40,0xef, // 540:" .G.`..|@."
        0xff,0xed,0x03,0xfa,0x03,0xd6,0xe4,0x64,0x54,      // 550:".......dT"
    };
    char const jabber_z9[549] = {
        0x78,0xda,0xad,0x53,0x4d,0x6f,0xdb,0x30,0x0c,0xbd, //   0:"x..SMo.0.."
        0xeb,0x57,0xd0,0xbd,0x6c,0x03,0x92,0x02,0xdb,0x65, //  10:".W..l....e"
        0x43,0x77,0x18,0x92,0xec,0xa3,0xe8,0x0a,0x14,0xd8, //  20:"Cw........"
        0x02,0x14,0xbb,0x8d,0xb2,0x69,0x4b,0x89,0x64,0x16, //  30:".....iK.d."
        0xfa,0xa8,0xe7,0x7f,0x3f,0x4a,0x71,0xda,0xde,0xb7, //  40:"....?Jq..."
        0x8b,0x21,0x90,0x7c,0x8f,0xe4,0xe3,0xf3,0xcd,0x66, //  50:".!.|.....f"
        0xbb,0xfd,0xf2,0xe3,0xfe,0x6e,0xf7,0xfd,0x97,0xba, //  60:".....n...."
        0xa5,0xc9,0x46,0xd8,0x61,0x08,0xec,0x9c,0x7a,0xdd, //  70:"..F.a...z."
        0x07,0xf6,0xb0,0x37,0x81,0xf3,0x60,0x20,0x19,0x82, //  80:"...7..` .."
        0x5b,0xe6,0xa3,0x1d,0x87,0xf5,0x37,0x87,0x31,0x02, //  90:"[.....7.1."
        0x8e,0x1d,0xdc,0x1b,0x4c,0xb0,0x71,0xb6,0x25,0xf8, // 100:"....L.q.%."
        0xca,0x59,0x02,0x7b,0x43,0x81,0x56,0xf0,0xf6,0xc3, // 110:".Y.{C.V..."
        0xfb,0x77,0x6f,0x94,0xfa,0xbd,0x9f,0x30,0x82,0x0e, // 120:".wo....0.."
        0xd6,0x39,0x3b,0xac,0x2a,0xa2,0xf0,0x44,0x67,0x93, // 130:".9;.*..Dg."
        0x99,0x21,0xf1,0x23,0x45,0x05,0xf0,0xd9,0x76,0x30, // 140:".!.#E...v0"
        0xcc,0x81,0x6a,0x7e,0xb0,0x5e,0x3b,0x02,0x3b,0xd6, // 150:"..j~.^;.;."
        0xca,0x09,0x35,0x5d,0xa9,0x8d,0x73,0xe0,0xad,0x8f, // 160:"..5]..s..."
        0x33,0x4c,0xc2,0x5e,0x13,0x9a,0x03,0x0f,0x05,0xbf, // 170:"3L.^......"
        0x12,0x82,0xcd,0xc2,0xeb,0xd9,0x13,0x04,0x4c,0x26, // 180:"........L&"
        0x02,0xe7,0x34,0x04,0x01,0x5f,0x2a,0x75,0xb1,0xa5, // 190:"..4.._*u.."
        0x09,0x17,0xd8,0x0d,0x6a,0x4d,0x61,0xe2,0xf6,0xb8, // 200:"....jMa..."
        0x02,0x3f,0x43,0xe4,0xb1,0x11,0xbc,0x0c,0x0d,0x07, // 210:".?C......."
        0x9c,0xa2,0x94,0xc8,0x3a,0xda,0x26,0xd9,0xa0,0x54, // 220:"....:.&..T"
        0xb7,0xee,0x29,0xd8,0x62,0x6a,0x4d,0xa3,0x5e,0x52, // 230:"..).bjM.^R"
        0x65,0x7d,0xc8,0x5a,0xaa,0x43,0x77,0xda,0x2c,0x9a, // 240:"e}.Z.Cw.,."
        0x3c,0x2e,0x64,0x7d,0xc8,0xde,0x72,0x8e,0xb0,0x95, // 250:"<.d}..r..."
        0x04,0x85,0x38,0x56,0xf4,0x85,0x52,0xd7,0x82,0x15, // 260:"..8V..R..."
        0x11,0xc1,0x88,0xce,0x8f,0x1c,0x1e,0xd0,0x41,0x9c, // 270:"........A."
        0x38,0x74,0x65,0x5f,0x23,0xb5,0x57,0x42,0x70,0xcb, // 280:"8te_#.WBp."
        0xe3,0x00,0xc9,0xfa,0x53,0x1b,0x8f,0xe3,0x9f,0xb2, // 290:"....S....."
        0x56,0xcf,0x04,0x45,0xba,0x72,0x8c,0x04,0xeb,0xb5, // 300:"V..E.r...."
        0xfa,0xc9,0x10,0x28,0x26,0xea,0x4a,0x58,0xcf,0xb5, // 310:"...(&.JX.."
        0x78,0x9f,0x7d,0xca,0x1e,0x52,0x20,0x3a,0xeb,0x12, // 320:"x.}..R :.."
        0xa5,0x5f,0x07,0x38,0x19,0x7b,0x56,0xb5,0x32,0x88, // 330:"._.8.{V.2."
        0x2e,0x92,0x95,0xc1,0x63,0x09,0xe6,0xbe,0xb7,0xd1, // 340:"....c....."
        0x9c,0x73,0xb5,0x4f,0x81,0xad,0x96,0x75,0x5e,0xaa, // 350:".s.O...u^."
        0x36,0xc9,0xe9,0x80,0x66,0x12,0x89,0x7b,0xe8,0x1d, // 360:"6...f..{.."
        0x7a,0xe9,0xb4,0x93,0x2f,0x48,0x87,0xbe,0x77,0xb6, // 370:"z.../H..w."
        0xcc,0xfe,0xc2,0x32,0x29,0xbb,0x81,0xe4,0x6e,0x0b, // 380:"...2)...n."
        0x5b,0x99,0x48,0xe7,0x20,0x17,0xee,0x6a,0xeb,0x22, // 390:"[.H. ..j.""
        0xac,0xa7,0x46,0xa9,0xbb,0xb1,0x68,0x3e,0x71,0x03, // 400:"..F...h>q."
        0xcf,0xaf,0xd3,0x59,0x4f,0x5c,0xf8,0xfc,0x5e,0x86, // 410:"...YO\..^."
        0x5a,0xe4,0xd3,0x0e,0x3b,0x69,0x4e,0x63,0x82,0x38, // 420:"Z...;iNc.8"
        0xda,0xf6,0x48,0x61,0x2d,0x72,0xb7,0xc7,0xa6,0x68, // 430:"..Ha-r...h"
        0xed,0xa8,0x4f,0xa5,0x49,0x47,0xb8,0x1c,0xa9,0x8e, // 440:"..O.IG...."
        0x6f,0x53,0x94,0x1d,0xb1,0x13,0xa6,0xeb,0x05,0x3b, // 450:"oS.......;"
        0xa0,0xcb,0xfe,0xc1,0x94,0xf1,0xb5,0xa0,0x8b,0x6d, // 460:".........m"
        0xaa,0x3e,0x06,0x63,0x95,0x45,0x3c,0x8b,0x8b,0x27, // 470:".>.c.E<..'"
        0x9f,0xd5,0xf8,0x24,0x04,0xbb,0x72,0x9c,0xc4,0xc5, // 480:"...$..r..."
        0x4d,0x18,0x7c,0xac,0xb6,0xd2,0x84,0xbe,0xe8,0xa9, // 490:"M.|......."
        0x79,0x6e,0xd4,0x9d,0xb8,0x01,0xf5,0xa1,0xb8,0xa1, // 500:"yn........"
        0xc3,0xb9,0x91,0xdf,0xcb,0x39,0x66,0x73,0x7a,0x48, // 510:".....9fszH"
        0xe0,0xd5,0x69,0x8a,0xd6,0x70,0x48,0x45,0x96,0xe2, // 520:"..i..pHE.."
        0x04,0x71,0xc7,0x81,0xe7,0xcb,0xff,0xf4,0x03,0x7d, // 530:".q.......}"
        0xfc,0xb7,0x1f,0xe8,0x2f,0xd6,0xe4,0x64,0x54,      // 540:"..../..dT"
    };
    char const jabber_gz1[571] = {
        0x1f,0x8b,0x08,0x00,0x9e,0x53,0xd0,0x49,0x02,0xff, //   0:".....S.I.."
        0xad,0x93,0xcd,0x8f,0xd3,0x30,0x10,0xc5,0xef,0xfe, //  10:".....0...."
        0x2b,0xa6,0x7b,0x01,0xa4,0x16,0x09,0x2e,0x20,0x38, //  20:"+.{..... 8"
        0xa0,0xb6,0x7c,0x69,0x59,0x69,0x25,0xa8,0xb4,0xe2, //  30:"..|iYi%..."
        0x86,0x9d,0x38,0xb1,0x5b,0x3b,0xb3,0xf2,0xc7,0x86, //  40:"..8.[;...."
        0xfc,0xf7,0xbc,0x49,0x53,0x76,0xef,0x70,0x69,0x23, //  50:"...ISv.pi#"
        0xc7,0xf3,0xe6,0xcd,0x6f,0x5e,0xae,0xb7,0xbb,0xdd, //  60:"....o^...."
        0xa7,0xef,0x77,0xb7,0xfb,0x6f,0x3f,0xd5,0x8d,0x1d, //  70:"..w..o?..."
        0x7d,0xa6,0xbd,0x4e,0x89,0x43,0x50,0xcf,0xbb,0xc4, //  80:"}..N.CP..."
        0x91,0x0e,0x2e,0x71,0xed,0x1d,0x15,0x67,0xe9,0x86, //  90:"...q...g.."
        0xf9,0xe4,0x87,0x7e,0xf3,0x25,0xe8,0x9c,0x49,0x0f, // 100:"...~.%..I."
        0x2d,0xdd,0x39,0x5d,0x68,0x1b,0x7c,0x63,0xe9,0x33, // 110:"-.9]h.|c.3"
        0x57,0x1c,0x1c,0x9c,0x4d,0x76,0x4d,0xaf,0xde,0xbe, // 120:"W...MvM..."
        0x79,0xfd,0x42,0xa9,0x5f,0x87,0x51,0x67,0x32,0xc9, // 130:"y.B._.Qg2."
        0x87,0xe0,0xfb,0xf5,0x5c,0x21,0x3a,0x39,0xf8,0xe2, // 140:"....\!:9.."
        0x26,0x2a,0xfc,0x60,0xb3,0x22,0xfa,0xe8,0x5b,0xea, // 150:"&*.`."..[."
        0xa7,0x64,0xe7,0xf7,0xbd,0x8f,0x26,0x58,0xf2,0xc3, // 160:".d....&X.."
        0xdc,0x71,0xd4,0xc6,0xbe,0x53,0xdb,0x10,0x28,0xfa, // 170:".q...S..(."
        0x98,0x27,0x1a,0xa1,0x3e,0xbf,0x30,0x9c,0xb8,0x97, // 180:".'..>.0..."
        0xfa,0x35,0x04,0xb6,0x68,0x2c,0xba,0x91,0xa3,0xa5, // 190:".5..h,...."
        0xa4,0x8b,0xcb,0xc4,0xb5,0xf4,0x09,0xc5,0x2f,0x95, // 200:"......../."
        0xba,0xda,0xd9,0x51,0x2f,0x65,0xd7,0xda,0x18,0x9b, // 210:"...Q/e...."
        0x46,0x6e,0x4e,0x6b,0x8a,0x13,0x65,0x1e,0x56,0xa8, // 220:"FnNk..e.V."
        0x87,0x69,0x3a,0xea,0x31,0x43,0x04,0xe3,0x18,0x5f, // 230:".i:.1C..._"
        0x30,0x81,0xe8,0x35,0xe1,0xef,0x61,0xa3,0x4b,0xe3, // 240:"0..5..a.K."
        0x56,0xea,0xa9,0x54,0x35,0xc7,0x6a,0x70,0x3b,0xb5, // 250:"V..T5.jp;."
        0xe7,0xc9,0xb2,0xab,0xc3,0x22,0xd6,0xa5,0x1a,0x3d, // 260:"....."...="
        0xd7,0x4c,0x3b,0x40,0xb2,0x29,0x0f,0x73,0xf5,0x95, // 270:".L;@.).s.."
        0x52,0x5f,0xe1,0x1e,0x10,0xc9,0x81,0xf3,0x03,0xa7, // 280:"R_........"
        0x7b,0x1d,0x28,0x8f,0x9c,0x5a,0x99,0xd7,0xe1,0xee, // 290:"{.(..Z...."
        0x3b,0x08,0xdc,0xf0,0xd0,0x53,0xf1,0x18,0x65,0x9e, // 300:";....S..e."
        0x49,0x0f,0xbf,0x65,0xac,0x8e,0x2d,0xc1,0x52,0x96, // 310:"I..e..-.R."
        0x65,0x14,0xda,0x6c,0xd4,0x0f,0xa6,0x64,0x73,0xb1, // 320:"e..l...ds."
        0xad,0x1c,0x1b,0xd0,0xc4,0xdf,0xa1,0xc6,0x52,0x23, // 330:"........R#"
        0x95,0x64,0xed,0x85,0x4b,0x46,0xbf,0x96,0xf4,0xe8, // 340:".d..KF...."
        0xfc,0x85,0xea,0xac,0x00,0x2e,0xa0,0x06,0xe3,0x59, // 350:".........Y"
        0x5a,0xd7,0xae,0xf3,0x59,0x76,0x7c,0x56,0x97,0x3e, // 360:"Z...Yv|V.>"
        0x52,0x26,0x1a,0xc2,0xe6,0x29,0xb5,0x11,0xab,0x23, // 370:"R&...)...#"
        0x3b,0x59,0x20,0xee,0xa8,0x0b,0x3a,0xa2,0xd3,0x1e, // 380:";Y ...:..."
        0xbf,0x84,0x0e,0x5d,0x17,0x10,0x0f,0xc8,0x3c,0x46, // 390:"...]....<F"
        0xa6,0xd4,0xd0,0x5b,0xec,0x6d,0x51,0x93,0x4d,0x99, // 400:"...[.mQ.M."
        0x9a,0xb0,0x61,0x78,0x42,0xeb,0x42,0x0d,0x6a,0x57, // 410:"..axB.B.jW"
        0x4a,0xdd,0x0e,0xc2,0x7c,0xe4,0x15,0x3d,0x3e,0xc9, // 420:"J...|..=>."
        0xe5,0x8b,0x16,0xd8,0x5c,0x9e,0x17,0x53,0x0b,0x3e, // 430:"....\..S.>"
        0x13,0x74,0x8b,0xe6,0x76,0x28,0x94,0x07,0xdf,0x9c, // 440:".t..v(...."
        0x6c,0xda,0x00,0x77,0x73,0x5a,0x09,0xeb,0x60,0xbb, // 450:"l..wsZ..`."
        0x22,0x4d,0x5a,0xab,0x97,0x25,0xcd,0xf6,0x7d,0xc9, // 460:""MZ..%..}."
        0x80,0xa6,0x5b,0x28,0xe1,0xd2,0x5c,0xdb,0xeb,0x50, // 470:"..[(..\..P"
        0xe3,0xbd,0x13,0xfb,0x06,0xd5,0x12,0x9b,0x99,0x8f, // 480:".........."
        0x83,0x4b,0xc1,0x82,0xcc,0xea,0x25,0x93,0x8f,0x34, // 490:".K....%..4"
        0x3e,0x40,0x60,0x2f,0xcb,0x29,0x2c,0x69,0xd2,0x29, // 500:">@`/.),i.)"
        0xe6,0x39,0x56,0xc6,0xea,0x28,0x3c,0x0d,0x4f,0x2b, // 510:".9V..(<.O+"
        0x75,0x4b,0x1d,0x82,0x78,0x94,0x34,0xb4,0x7a,0x5a, // 520:"uK..x.4.zZ"
        0xe1,0xf3,0x0a,0x81,0xd9,0x9d,0x1f,0x70,0xf0,0xec, // 530:".......p.."
        0xec,0xa2,0x71,0x9c,0x8a,0x60,0x91,0x24,0x20,0x1d, // 540:"..q..`.$ ."
        0x47,0x9e,0x60,0xe2,0xbf,0x7c,0x40,0xef,0xff,0xed, // 550:"G.`..|@..."
        0x03,0xfa,0x03,0x52,0x02,0xa3,0x89,0x22,0x04,0x00, // 560:"...R...".."
        0x00,                                              // 570:"."
    };
    char const jabber_gz9[561] = {
        0x1f,0x8b,0x08,0x00,0x9e,0x53,0xd0,0x49,0x02,0xff, //   0:".....S.I.."
        0xad,0x53,0x4d,0x6f,0xdb,0x30,0x0c,0xbd,0xeb,0x57, //  10:".SMo.0...W"
        0xd0,0xbd,0x6c,0x03,0x92,0x02,0xdb,0x65,0x43,0x77, //  20:"..l....eCw"
        0x18,0x92,0xec,0xa3,0xe8,0x0a,0x14,0xd8,0x02,0x14, //  30:".........."
        0xbb,0x8d,0xb2,0x69,0x4b,0x89,0x64,0x16,0xfa,0xa8, //  40:"...iK.d..."
        0xe7,0x7f,0x3f,0x4a,0x71,0xda,0xde,0xb7,0x8b,0x21, //  50:"..?Jq....!"
        0x90,0x7c,0x8f,0xe4,0xe3,0xf3,0xcd,0x66,0xbb,0xfd, //  60:".|.....f.."
        0xf2,0xe3,0xfe,0x6e,0xf7,0xfd,0x97,0xba,0xa5,0xc9, //  70:"...n......"
        0x46,0xd8,0x61,0x08,0xec,0x9c,0x7a,0xdd,0x07,0xf6, //  80:"F.a...z..."
        0xb0,0x37,0x81,0xf3,0x60,0x20,0x19,0x82,0x5b,0xe6, //  90:".7..` ..[."
        0xa3,0x1d,0x87,0xf5,0x37,0x87,0x31,0x02,0x8e,0x1d, // 100:"....7.1..."
        0xdc,0x1b,0x4c,0xb0,0x71,0xb6,0x25,0xf8,0xca,0x59, // 110:"..L.q.%..Y"
        0x02,0x7b,0x43,0x81,0x56,0xf0,0xf6,0xc3,0xfb,0x77, // 120:".{C.V....w"
        0x6f,0x94,0xfa,0xbd,0x9f,0x30,0x82,0x0e,0xd6,0x39, // 130:"o....0...9"
        0x3b,0xac,0x2a,0xa2,0xf0,0x44,0x67,0x93,0x99,0x21, // 140:";.*..Dg..!"
        0xf1,0x23,0x45,0x05,0xf0,0xd9,0x76,0x30,0xcc,0x81, // 150:".#E...v0.."
        0x6a,0x7e,0xb0,0x5e,0x3b,0x02,0x3b,0xd6,0xca,0x09, // 160:"j~.^;.;..."
        0x35,0x5d,0xa9,0x8d,0x73,0xe0,0xad,0x8f,0x33,0x4c, // 170:"5]..s...3L"
        0xc2,0x5e,0x13,0x9a,0x03,0x0f,0x05,0xbf,0x12,0x82, // 180:".^........"
        0xcd,0xc2,0xeb,0xd9,0x13,0x04,0x4c,0x26,0x02,0xe7, // 190:"......L&.."
        0x34,0x04,0x01,0x5f,0x2a,0x75,0xb1,0xa5,0x09,0x17, // 200:"4.._*u...."
        0xd8,0x0d,0x6a,0x4d,0x61,0xe2,0xf6,0xb8,0x02,0x3f, // 210:"..jMa....?"
        0x43,0xe4,0xb1,0x11,0xbc,0x0c,0x0d,0x07,0x9c,0xa2, // 220:"C........."
        0x94,0xc8,0x3a,0xda,0x26,0xd9,0xa0,0x54,0xb7,0xee, // 230:"..:.&..T.."
        0x29,0xd8,0x62,0x6a,0x4d,0xa3,0x5e,0x52,0x65,0x7d, // 240:").bjM.^Re}"
        0xc8,0x5a,0xaa,0x43,0x77,0xda,0x2c,0x9a,0x3c,0x2e, // 250:".Z.Cw.,.<."
        0x64,0x7d,0xc8,0xde,0x72,0x8e,0xb0,0x95,0x04,0x85, // 260:"d}..r....."
        0x38,0x56,0xf4,0x85,0x52,0xd7,0x82,0x15,0x11,0xc1, // 270:"8V..R....."
        0x88,0xce,0x8f,0x1c,0x1e,0xd0,0x41,0x9c,0x38,0x74, // 280:"......A.8t"
        0x65,0x5f,0x23,0xb5,0x57,0x42,0x70,0xcb,0xe3,0x00, // 290:"e_#.WBp..."
        0xc9,0xfa,0x53,0x1b,0x8f,0xe3,0x9f,0xb2,0x56,0xcf, // 300:"..S.....V."
        0x04,0x45,0xba,0x72,0x8c,0x04,0xeb,0xb5,0xfa,0xc9, // 310:".E.r......"
        0x10,0x28,0x26,0xea,0x4a,0x58,0xcf,0xb5,0x78,0x9f, // 320:".(&.JX..x."
        0x7d,0xca,0x1e,0x52,0x20,0x3a,0xeb,0x12,0xa5,0x5f, // 330:"}..R :..._"
        0x07,0x38,0x19,0x7b,0x56,0xb5,0x32,0x88,0x2e,0x92, // 340:".8.{V.2..."
        0x95,0xc1,0x63,0x09,0xe6,0xbe,0xb7,0xd1,0x9c,0x73, // 350:"..c......s"
        0xb5,0x4f,0x81,0xad,0x96,0x75,0x5e,0xaa,0x36,0xc9, // 360:".O...u^.6."
        0xe9,0x80,0x66,0x12,0x89,0x7b,0xe8,0x1d,0x7a,0xe9, // 370:"..f..{..z."
        0xb4,0x93,0x2f,0x48,0x87,0xbe,0x77,0xb6,0xcc,0xfe, // 380:"../H..w..."
        0xc2,0x32,0x29,0xbb,0x81,0xe4,0x6e,0x0b,0x5b,0x99, // 390:".2)...n.[."
        0x48,0xe7,0x20,0x17,0xee,0x6a,0xeb,0x22,0xac,0xa7, // 400:"H. ..j.".."
        0x46,0xa9,0xbb,0xb1,0x68,0x3e,0x71,0x03,0xcf,0xaf, // 410:"F...h>q..."
        0xd3,0x59,0x4f,0x5c,0xf8,0xfc,0x5e,0x86,0x5a,0xe4, // 420:".YO\..^.Z."
        0xd3,0x0e,0x3b,0x69,0x4e,0x63,0x82,0x38,0xda,0xf6, // 430:"..;iNc.8.."
        0x48,0x61,0x2d,0x72,0xb7,0xc7,0xa6,0x68,0xed,0xa8, // 440:"Ha-r...h.."
        0x4f,0xa5,0x49,0x47,0xb8,0x1c,0xa9,0x8e,0x6f,0x53, // 450:"O.IG....oS"
        0x94,0x1d,0xb1,0x13,0xa6,0xeb,0x05,0x3b,0xa0,0xcb, // 460:".......;.."
        0xfe,0xc1,0x94,0xf1,0xb5,0xa0,0x8b,0x6d,0xaa,0x3e, // 470:".......m.>"
        0x06,0x63,0x95,0x45,0x3c,0x8b,0x8b,0x27,0x9f,0xd5, // 480:".c.E<..'.."
        0xf8,0x24,0x04,0xbb,0x72,0x9c,0xc4,0xc5,0x4d,0x18, // 490:".$..r...M."
        0x7c,0xac,0xb6,0xd2,0x84,0xbe,0xe8,0xa9,0x79,0x6e, // 500:"|.......yn"
        0xd4,0x9d,0xb8,0x01,0xf5,0xa1,0xb8,0xa1,0xc3,0xb9, // 510:".........."
        0x91,0xdf,0xcb,0x39,0x66,0x73,0x7a,0x48,0xe0,0xd5, // 520:"...9fszH.."
        0x69,0x8a,0xd6,0x70,0x48,0x45,0x96,0xe2,0x04,0x71, // 530:"i..pHE...q"
        0xc7,0x81,0xe7,0xcb,0xff,0xf4,0x03,0x7d,0xfc,0xb7, // 540:".......}.."
        0x1f,0xe8,0x2f,0x52,0x02,0xa3,0x89,0x22,0x04,0x00, // 550:"../R...".."
        0x00,                                              // 560:"."
    };
}

#define STR(x) warp::binary_data(x, sizeof(x))

BOOST_AUTO_UNIT_TEST(inflate_empty)
{
    warp::VString out;

    gunzip(empty_z1, sizeof(empty_z1), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(empty), out);

    out.clear();

    gunzip(empty_z9, sizeof(empty_z9), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(empty), out);

    out.clear();

    gunzip(empty_gz9, sizeof(empty_gz9), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(empty), out);

    out.clear();

    gunzip(empty_gz1, sizeof(empty_gz1), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(empty), out);
}

BOOST_AUTO_UNIT_TEST(inflate_hello)
{
    warp::VString out;

    gunzip(hello_z1, sizeof(hello_z1), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(hello), out);

    out.clear();

    gunzip(hello_z9, sizeof(hello_z9), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(hello), out);

    out.clear();

    gunzip(hello_gz9, sizeof(hello_gz9), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(hello), out);

    out.clear();

    gunzip(hello_gz1, sizeof(hello_gz1), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(hello), out);
}

BOOST_AUTO_UNIT_TEST(inflate_jabber)
{
    warp::VString out;

    gunzip(jabber_z1, sizeof(jabber_z1), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(jabber), out);

    out.clear();

    gunzip(jabber_z9, sizeof(jabber_z9), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(jabber), out);

    out.clear();

    gunzip(jabber_gz9, sizeof(jabber_gz9), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(jabber), out);

    out.clear();

    gunzip(jabber_gz1, sizeof(jabber_gz1), back_inserter(out));
    BOOST_CHECK_EQUAL(STR(jabber), out);
}
